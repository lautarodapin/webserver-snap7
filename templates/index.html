{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    {% comment %} <script src="https://cdn.jsdelivr.net/npm/@statnett/vue-plotly@0.3.2/dist/vue-plotly.min.js"></script> {% endcomment %}
    {% comment %} <script src="https://unpkg.com/vue-plotly"></script> {% endcomment %}
</head>

<body>
    <main>
        <div id="app">
            <h1>Graficos</h1>

            <input v-model="searchFila">
            <div v-if="filteredFilas.length > 0" v-for="(fila, index) in filteredFilas" :key="index">
                <input type="checkbox" :value="fila.id" v-model="checkedFilas">
                [[fila.string]] [[fila.area]]
            </div>
            [[checkedFilas]]
            <button @click="fetchData" :disabled="loading">
                Search!
                <span v-if="loading">[[progress]]</span>
            </button>
            <plotly-component 
                v-if="datos.length > 0"
                v-for="(dato, index) in datos" 
                :key="index" 
                :dato="dato" 
            />
        </div>
    </main>
    <footer>
        <script src="{% static 'js/app.js' %}"></script>
    </footer>
</body>

</html>